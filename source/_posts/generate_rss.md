title: 如何生成一个网站的RSS源
date: 2015-12-22 16:21:56
categories:  工具
tags: [RSS,feed43]
---

目前有很多资讯网站为了让用户停留在网站上，开始不提供rss的订阅源，为的就是让你在它的网站上浏览，不评价这种行为，但是这样有一个问题，那么多资讯网站，你可能一个个看得过来吗？
<!-- more -->
对于熟悉用rss聚集信息的使用习惯的用户。但是对于这种没有RSS源的网站，我们该如何为它生成一个RSS源？对于这个问题，我首先想到的使用爬虫爬取对应的网站的信息，然后统一生成rss的订阅源。但是遵循不重复造轮子的原则。首先在网上搜索了生成RSS 源的方法。果然还是有现成的方法。在此记录一下，以供同由此需求的人实践。

网上搜索一下发现有许多第三方网站都可以提供这种服务，我只选择其中[feed43](http://www.feed43.com)的作为实验。基本可以达到预期的目的。

- 以[开发者头条](http://toutiao.io/)为例子

![](http://zhiyue.qiniudn.com/15-12-22/25166459.jpg)

使用的工具：

- http://www.feed43.com
- feedly `rss 订阅工具`
> 生成的rss 导入到 feedly


### 通过`feed43` 生成RSS
`feed43` 提供了很详细的[教程]( http://www.maguang.net/archives/2812):
基本流程如下：
#### 1. 输入要生成的rss的网址
这里填入:http://toutiao.io/ 和编码 ：`UTF-8`(根据实际内容)
![](http://zhiyue.qiniudn.com/15-12-22/33698153.jpg)
点击 `Reload` 它就会去爬取这个页面对应的html页面



#### 2. 提取页面字段。

![](http://zhiyue.qiniudn.com/15-12-22/40509622.jpg)
如图所示，因为`开发者头条`并没有显示全文内容，因此我们要抓取仅仅是`标题` 和`链接`。第一个地方是我们要抓取的`链接地址`，第二个红色框住的是要抓取的`标题`。上面的页面是使用`chrome`的开发者工具定位到的。如果你使用firefox，那么相信你也可以找到对应的工具。

下面是怎么定位到这些元素的方法，`feed43`使用类似正则的描述语言来确定提取字段的内容。其中`{ % }` 表示你要匹配的字段。`{*}`表示任意数量任意匹配的字符。
这里可以填入：
```
<h3 class="title">{*}
href="{%}"{*}>{%}</a>{*}
```
第一个`{ % }`匹配的是`链接` ，第二个`{ % }`匹配的是标题

然后就可以点击`extact`来观察提取的结果：
![](http://zhiyue.qiniudn.com/15-12-22/83296945.jpg)

> 需要注意的是上面的表达式填的地方在 `Item(repeatable) Search Pattern`下面的输入框

#### 3. 定义输出格式
接下来要做的是把提取出来的字段按照你需要的格式拼接成RSS的输出格式。
`{ %1 }` 表示表达式第一次匹配`{ % }`的内容，在这个例子中表示`链接地址`
![](http://zhiyue.qiniudn.com/15-12-22/79838720.jpg)
定义好输出格式之后就可以点击`preview`来查看生成的结果了。
#### 4. 获取`feed`的地址
![](http://zhiyue.qiniudn.com/15-12-22/18809889.jpg)
可以发现已经可以正常生成feed。
#### 5. 导入feedly
`feedly` 是一款优秀的`rss`订阅工具。注册一个账号然后使用就可以了。
![](http://zhiyue.qiniudn.com/15-12-22/7017324.jpg)

接下来其它的也可以按照同样的方法生成对应网站的rss

### 类似的工具：
- http://page2rss.com/

> 直接输入要生成RSS 的网站的地址，就会自动生成rss


---

### 参考
- [FEED43 – 为没有 Feed 的网页生成 RSS 格式订阅源\[教程\]](http://www.appinn.com/feed43/)
- [Step-by-step example of feed setup](http://feed43.com/step-by-step.html)
- [网站不提供RSS，如何手动生成？](http://www.maguang.net/archives/2812)

---
### 修订日志
- 2015-12-22 第一次编写

